<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Guessing Game</title>
    <meta name="theme-color" content="#4f46e5">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Num Guess">
    <link rel="apple-touch-icon" href="icons/icon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Overpass+Mono:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="atmosphere" aria-hidden="true"></div>

    <button type="button" id="theme-toggle" aria-label="Toggle dark mode"></button>

    <main>
        <h1>Guess the Number</h1>

        <p id="range-text">Between 1 and <span id="max-number">100</span></p>

        <div id="difficulty-selector">
            <button type="button" data-max="50">Easy</button>
            <button type="button" data-max="100" class="active">Medium</button>
            <button type="button" data-max="500">Hard</button>
            <button type="button" data-max="1000">Insane</button>
        </div>

        <label id="mode-toggle">
            <input type="checkbox" id="limited-mode-checkbox" role="switch">
            <span class="toggle-track" aria-hidden="true">
                <span class="toggle-thumb"></span>
            </span>
            <span>Challenge mode (<span id="guess-limit-display">10</span> guesses)</span>
        </label>

        <div id="game-core">
            <div id="heat-gauge">
                <svg id="heat-ring" viewBox="0 0 200 200" aria-hidden="true">
                    <circle class="gauge-track" cx="100" cy="100" r="85"
                        fill="none" stroke-width="14" stroke-linecap="round"
                        stroke-dasharray="415.4 534.1"
                        transform="rotate(130 100 100)" />
                    <circle class="gauge-fill" cx="100" cy="100" r="85"
                        fill="none" stroke-width="14" stroke-linecap="round"
                        stroke-dasharray="415.4 534.1"
                        stroke-dashoffset="415.4"
                        transform="rotate(130 100 100)" />
                </svg>
                <div id="heat-glow" aria-hidden="true"></div>
                <div id="gauge-center">
                    <form id="guess-form">
                        <input
                            type="number"
                            id="guess-input"
                            min="1"
                            max="100"
                            placeholder="?"
                            required
                            inputmode="none"
                        >
                        <button type="submit" id="guess-btn">Guess</button>
                    </form>
                </div>
            </div>

            <div id="feedback-zone">
                <div id="direction-arrow" aria-hidden="true"></div>
                <div id="feedback" aria-live="polite"></div>
            </div>
        </div>

        <div id="numpad">
            <button type="button" class="num-key" data-key="7">7</button>
            <button type="button" class="num-key" data-key="8">8</button>
            <button type="button" class="num-key" data-key="9">9</button>
            <button type="button" class="num-key" data-key="4">4</button>
            <button type="button" class="num-key" data-key="5">5</button>
            <button type="button" class="num-key" data-key="6">6</button>
            <button type="button" class="num-key" data-key="1">1</button>
            <button type="button" class="num-key" data-key="2">2</button>
            <button type="button" class="num-key" data-key="3">3</button>
            <button type="button" class="num-key num-key--back" data-key="back">⌫</button>
            <button type="button" class="num-key" data-key="0">0</button>
            <button type="button" class="num-key num-key--submit" data-key="submit">✓</button>
        </div>

        <p id="attempts">
            Attempts: <span id="attempt-count">0</span><span id="guess-limit-info"></span>
            <span id="best-score-display"></span>
        </p>

        <div id="win-message" hidden>
            <p id="win-text">Congratulations! You got it!</p>
            <button id="play-again">Play Again</button>
        </div>

        <div id="game-over-message" hidden>
            <p>Game Over! The number was <span id="reveal-number"></span>.</p>
            <button id="try-again">Try Again</button>
        </div>

        <details id="stats-section">
            <summary>Stats</summary>
            <div id="stats-content">
                <div id="stats-grid">
                    <div class="stat-item">
                        <span class="stat-value" id="games-played-count">0</span>
                        <span class="stat-label">Played</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="best-easy">-</span>
                        <span class="stat-label">Easy</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="best-medium">-</span>
                        <span class="stat-label">Medium</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="best-hard">-</span>
                        <span class="stat-label">Hard</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="best-insane">-</span>
                        <span class="stat-label">Insane</span>
                    </div>
                </div>
                <button type="button" id="reset-stats-btn">Reset Stats</button>
            </div>
        </details>
    </main>

    <div id="confetti-container" aria-hidden="true"></div>

    <script type="module" src="game.js"></script>
</body>
</html>
